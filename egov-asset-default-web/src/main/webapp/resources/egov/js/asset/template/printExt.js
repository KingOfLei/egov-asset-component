/**
 * * Auto generated by Bossssoft Studio version 1.0 beta
 * Tue Nov 15 17:19:31 CST 2016
 */
//define(['引入外部js模块或控件'],function('引入外部js或控件的别名'){})
define(
		[ 
		 	"resources/egov/js/asset/template/bsReportExt"
		  ],
		function(bsReportExt) {
		   var PrintUtil =  {
		            initPrint:function(AimsModel,moduleId,params){
		            	var dtd = $.Deferred();
		            	$app.ajax.ajaxCall({
							 url:"egov/asset/template/cookieString.do",
							 data:{},
							 callback:function(cookieStr){
								 PrintUtil.bsReport = Asset_BsReport.getInstance(cookieStr);
								 dtd.resolve();
							 },error:function (data) {
								dtd.reject();
                            }
						 })
                        var initState = dtd.promise();
						this.initState = initState;
						return initState;
		            },
			   		operate:function (operate) {
		            	var self = this;
                        var args = [].slice.call(arguments,1);
		            	$.when(self.initState).done(function () {
                            var bsReport = self.bsReport;
//                            if(!$.isFunction(bsReport[operate])){
//                                throw new Error(operate + ' is not function');
//                            }
                            printInstance.operateConfig('doPreview',{
                                stateChange:function (event,state,data) {
                                    console.info('stateChange',state,data,new Date());
                                }
                            })({
                            	LoadReportURL:"D:\\Bosssoft\\Assistant\\data\\grf\\report\\99002.grf",
                            	PrintPreview:true,
                            	PrintData:[
                            	           {
                            	        	   ASSETCODE:"dddd",
                            	        	   ASSETNAME:"ddda",
                            	        	   ORGNAME:"orgname"
                            	           },
                            	           {
                            	        	   ASSETCODE:"dddd",
                            	        	   ASSETNAME:"ddda",
                            	        	   ORGNAME:"orgname"
                            	           }
                            	           ],
                            	 
                               }).done(function (data) {
                               console.info(data); console.log('config dos success',data);
                            }).fail(function (obj) {
                                console.log('config dos error',obj);
                            });
                            //bsReport[operate].apply(bsReport,args);
                        }).fail(function () {
                            throw new Error('init error');
                        });
                    }
		   };
		 return PrintUtil ;
	   })