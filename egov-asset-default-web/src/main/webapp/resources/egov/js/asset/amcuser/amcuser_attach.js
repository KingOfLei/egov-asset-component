/**
 * * Auto generated by Bossssoft Studio version 1.0 beta
 * Thu Nov 10 11:13:33 CST 2016
 */
//define(['引入外部js模块或控件'],function('引入外部js或控件的别名'){})
define(
[
    "app/widgets/window/app-dialog",
    "app/app-pagebase","resources/egov/js/asset/amcuser/amcuser_modify.js"],
    function (Dialog, PageBase,AmcUserDlg) {
    var AttachDlg = PageBase.extend({
        //类初始化
        initialize: function () {
            AttachDlg.superclass.initialize.call(this);
        },
        //存储弹出窗口回调
        showPageCallBack: null,

        //控件监听事件  格式：#控件id#:{事件名:事件方法}
        listeners: {
            },

        //页面加载后初始化
        initPage: function () {
        	
    		var curEditStatus =AmcUserDlg.BEFORE_DATA.curEditStatus;
    		var amcUser = AmcUserDlg.BEFORE_DATA.afaUser;
    		/* 1.走审核流程 */
    		if(curEditStatus == AmcUserDlg.ACTION.ADD || curEditStatus==AmcUserDlg.ACTION.EDIT){
    			AmcUserDlg.setAttach(1);
    		}
    		if(curEditStatus == AmcUserDlg.ACTION.VIEW){
    			AmcUserDlg.setAttach(0);
    		}
    		if(curEditStatus == AmcUserDlg.ACTION.AUDIT){
    			AmcUserDlg.setAttach(0);
    		}
    		/* 2.不走审核流程 */
    		/*  其中 ONLY_ADD和ONLY_EDIT 分别为不走审核流程的新增和修改  此时均可以编辑 附件 */
    		if(curEditStatus == AmcUserDlg.ACTION.ONLY_ADD || curEditStatus == AmcUserDlg.ACTION.ONLY_EDIT){
    			AmcUserDlg.setAttach(1);
    		}
        },
        
       
        //控件属性重置
        initUIExtConfig: function () {
            this.uiExtConfig = {
                //格式 #控件id#:function(控件属性集类){ config.setAttr("控件属性名","属性值"),// 网格，下拉网格，特殊设置config.getColumn("网列id").setAttr("列属性名","列属性值")config.getButton("网格内包含的按钮id").setAttr("handler","点击事件")  }
 
 
            }
        }
 
    });
    //创建窗体类单例
    AttachDlg.getInstance = function () {
        if (!this.instance) {
            this.instance = new AttachDlg();
        }
        return this.instance;
    }
 
    return AttachDlg.getInstance();
})